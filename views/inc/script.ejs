    const feed      = document.getElementById("feed");
    const btnDelete = document.getElementById("btnDelete");

    //* Globals
    let trArr = [];
    //trArr[i].firstElementChild.innerHTML = "";\
    let trActive = [];
    let exportArrOfID = "";
    let list = [];

    //| maby calc color from bg
    function newIndex(text, author, id, bg, col){
        const tr        = document.createElement("tr");
        const tdText    = document.createElement("td");
        const tdAuthor  = document.createElement("td");

        text    = String(text);
        author  = String(author);
        id      = String(id);

        tdText.innerHTML    = text;
        tdAuthor.innerHTML  = author;
        tr.id               = id;
        
        tr.appendChild(tdText);
        tr.appendChild(tdAuthor);

        if(!col || !bg){
            tr.style.background = "#fff8";
            tr.style.color = "#000"; //? calc from bg
            //console.log("default clol");
        }else if(col && bg){
            tr.style.background = "#${bg}";
            tr.style.color = "#${col}";
            //console.log("set col: " + col);
        }

        tr.onclick = () => {
            //* Toggle active-class
            tr.classList.toggle("trActive");

            //* if not exist in arr => add else remove
            if(trActive.indexOf(tr.id) == -1){
                trActive.push(tr.id);
            }else{
                trActive.splice(trActive.indexOf(tr.id), 1);
            }
            //console.log();
            
            //* Change vis of delete-button if any items are selected
            if(trActive.length <= 0){
                btnDelete.style.visibility = "hidden";
            }else if(trActive.length > 0){
                btnDelete.style.visibility = "visible";
            }
            
            //console.log(trActive.indexOf(tr.id), trActive);
            exportArrOfID = JSON.stringify(trActive);
        }

        trArr.push(tr);

        //* Append to feed
        feed.firstElementChild.firstElementChild.appendChild(tr);
    }

    //* Convert from obj => string => obj
    <% list.forEach(obj => {
        %>list.push({
            id: "<%= obj.id%>",
            item: "<%= obj.item%>",
            author: "<%= obj.author%>"
            }
        );<%
    });%>
    //console.log(list);
    

    //| DUMMY: newIndex("text", "auth", ++ bg & col); 
    list.forEach(obj => newIndex(obj.item, obj.author, obj.id));
    

    btnDelete.onclick = function(){
        var trDelete = 
            feed.
            firstElementChild.
            firstElementChild.
            querySelectorAll("tr.trActive");
            
        //* un-select all
        trDelete.forEach(selected => selected.classList.toggle("trActive"));

        console.log(`ID of btn: ${btnDelete.id}`);

        //? Delete from shoppinglist where id=selected;
        //* as JSON
        //console.log(exportArrOfID);
        //* as array
        //console.log(JSON.parse(exportArrOfID));
        
        $.ajax({
            type: "DELETE",
            url : "/",
            contentType: "application/json",
            data: JSON.stringify(JSON.parse(exportArrOfID)),
            success: function(res){
                console.log("deleting with btn, " + res);
                //location.reload();
                window.location.href="/";
                
            },
            error: function(err){
                console.log(err);
            }
        });

        //? hide btn && clear trActive-array
        btnDelete.style.visibility = "hidden";
        trActive = [];
        
    } 

    
    //? Common items / icon-menu
    //* add table in DB, linkt to icon, times used ++ every time used. Sort meny by popularity

    const iconmenu = document.getElementById("iconmenu");

    const addIcon = (src, id) => {

        let li = document.createElement("li");
        let a = document.createElement("a");
        let icon = document.createElement("img");
    
        icon.src = src;
        icon.id = id;

        let dataToDB = {
            item: icon.id
        };
        // console.log(JSON.stringify(dataToDB));
        // console.log(dataToDB);
        li.onclick = (e) => {
            $.ajax({
                type: "POST",
                url : "/",
                contentType: "application/json",
                data: JSON.stringify(dataToDB),
                success: res =>{
                    window.location.href="/";
                },
                error: err => {
                    console.log(err);
                }
            });

        }

        a.appendChild(icon);
        li.appendChild(a);
        iconmenu.appendChild(li);
    }

    addIcon(`./assets/media/icons/milkH.png`, "hel melk");
    addIcon(`./assets/media/icons/cheese.png`, "ost");
    addIcon(`./assets/media/icons/milkL.png`, "lett melk");
    addIcon(`./assets/media/icons/eggs.png`, "egg");
    addIcon(`./assets/media/icons/ham.png`, "sjinkep√•legg");

